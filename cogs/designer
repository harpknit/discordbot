import discord
from discord.ext import commands

# In-memory storage for designers
designer_by_user = {}

class DesignerCog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command()
    async def setdesigner(self, ctx, *, designer):
        """
        Set the designer (forum channel name) for the user.
        Use the word 'full' at the end to post the full title.
        """
        full_flag = False
        parts = designer.split()
        if parts[-1].lower() == "full":
            full_flag = True
            designer = " ".join(parts[:-1])
        designer_by_user[ctx.author.id] = {"channel": designer, "full": full_flag}
        flag_msg = " will include 'by [designer name]'" if full_flag else ""
        await ctx.send(f"Designer set to **{designer}** for you{flag_msg}.")

def setup(bot):
    bot.add_cog(DesignerCog(bot))
